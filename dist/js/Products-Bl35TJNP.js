import{j as e}from"./vendor-ui-CFTQbCni.js";import{r as n,L as M}from"./vendor-react-ClKtdroR.js";import{u as T,p as m,B as t,C as l,a as r,I as _,D as B,b as L,c as q,d as p,e as z,f as A,g as F,h as I,i as O,j as Q,k as U}from"./index-B-0mavkP.js";import{Q as f,P as V,a as $,al as H,aD as K,E as R,aE as G,T as J,a1 as W}from"./vendor-icons-NZYUuF92.js";import"./vendor-utils-DMC2_4N9.js";function ae(){const{addToast:y}=T(),[h,b]=n.useState(""),[j,v]=n.useState("all"),[w,i]=n.useState(!1),[C,u]=n.useState(null),[a,N]=n.useState(1),c=10,o=m.filter(s=>{const d=s.name.toLowerCase().includes(h.toLowerCase())||s.sku.toLowerCase().includes(h.toLowerCase()),x=j==="all"||s.status===j;return d&&x}),S=o.slice((a-1)*c,a*c),g=Math.ceil(o.length/c),D=s=>{u(s),i(!0)},k=()=>{C&&(y({type:"success",title:"Producto eliminado",message:"El producto ha sido eliminado exitosamente"}),i(!1),u(null))},P=s=>{const d={active:{label:"Activo",color:"bg-green-100 text-green-700"},draft:{label:"Borrador",color:"bg-gray-100 text-gray-700"},out_of_stock:{label:"Sin Stock",color:"bg-red-100 text-red-700"},discontinued:{label:"Descontinuado",color:"bg-yellow-100 text-yellow-700"}},x=d[s]||d.draft;return e.jsx(U,{className:x.color,children:x.label})},E=m.filter(s=>s.quantity<50).length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{to:"/seller/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"})]}),e.jsxs(t,{className:"bg-violet-600 hover:bg-violet-700",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Nuevo Producto"]})]})}),e.jsxs("main",{className:"p-4 sm:p-8",children:[e.jsxs("div",{className:"grid sm:grid-cols-4 gap-4 mb-6",children:[e.jsx(l,{className:"border-0 shadow-sm",children:e.jsxs(r,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Productos"}),e.jsx("p",{className:"text-2xl font-bold",children:m.length})]})}),e.jsx(l,{className:"border-0 shadow-sm",children:e.jsxs(r,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Activos"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.filter(s=>s.status==="active").length})]})}),e.jsx(l,{className:"border-0 shadow-sm",children:e.jsxs(r,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Stock Bajo"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:E})]})}),e.jsx(l,{className:"border-0 shadow-sm",children:e.jsxs(r,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Vistas Hoy"}),e.jsx("p",{className:"text-2xl font-bold text-violet-600",children:"1,234"})]})})]}),e.jsx(l,{className:"border-0 shadow-sm mb-6",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(_,{placeholder:"Buscar por nombre o SKU...",value:h,onChange:s=>b(s.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:j,onChange:s=>v(s.target.value),className:"px-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"all",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"draft",children:"Borradores"}),e.jsx("option",{value:"out_of_stock",children:"Sin Stock"})]})})]})})}),e.jsx(l,{className:"border-0 shadow-sm",children:e.jsxs(r,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Producto"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"SKU"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Precio"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Stock"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Ventas"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500",children:"Acciones"})]})}),e.jsx("tbody",{children:S.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.images?.[0]?.url,alt:s.name,className:"w-10 h-10 object-cover rounded-lg",loading:"lazy"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),s.quantity<50&&e.jsxs("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),"Stock bajo"]})]})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:s.sku}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-medium",children:["$",s.price.toFixed(2)]}),s.compare_at_price&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["$",s.compare_at_price.toFixed(2)]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`font-medium ${s.quantity<50?"text-red-600":""}`,children:s.quantity})}),e.jsx("td",{className:"py-3 px-4",children:P(s.status)}),e.jsx("td",{className:"py-3 px-4 text-sm",children:s.sales_count}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs(B,{children:[e.jsx(L,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(K,{className:"w-4 h-4"})})}),e.jsxs(q,{align:"end",children:[e.jsxs(p,{children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Ver"]}),e.jsxs(p,{children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Editar"]}),e.jsxs(p,{className:"text-red-600",onClick:()=>D(s.id),children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]},s.id))})]})}),g>1&&e.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Mostrando ",(a-1)*c+1," - ",Math.min(a*c,o.length)," de ",o.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>N(s=>Math.max(1,s-1)),disabled:a===1,children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>N(s=>Math.min(g,s+1)),disabled:a===g,children:e.jsx(W,{className:"w-4 h-4"})})]})]})]})})]}),e.jsx(z,{open:w,onOpenChange:i,children:e.jsxs(A,{children:[e.jsxs(F,{children:[e.jsx(I,{children:"¿Eliminar producto?"}),e.jsx(O,{children:"Esta acción no se puede deshacer. El producto será eliminado permanentemente."})]}),e.jsxs(Q,{children:[e.jsx(t,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),e.jsx(t,{variant:"destructive",onClick:k,children:"Eliminar"})]})]})})]})}export{ae as SellerProducts};
